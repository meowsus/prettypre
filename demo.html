<!DOCTYPE html>
<html>
    <head>
        <title>jQuery prettyPre Demo</title>

        <style>
            .sanitize { border: 1px solid lightgray; }
            .pretty { border: 1px dashed lightgray; }
            code { display: block; }
            p > code { display: inline; background: lightgray; }
            table { width: 100%; }
            td { width: 50%; vertical-align: top; }
        </style>
    </head>
    <body>
        <h1>jQuery prettyPre Demo</h1>

        <h2>Space examples</h2>
        <p><code>$('.pretty').prettyPre();</code></p>

        <p>should work on <code>pre</code> with one element nested:</p>
        <table>
            <tr>
                <th>Before</th>
                <th>After</th>
            </tr>
            <tr>
                <td>
                    <pre class="sanitize">
                        <p>Kazakhstan is number one exporter of potassium.</p>
                    </pre>
                </td>
                <td>
                    <pre class="pretty">
                        <p>Kazakhstan is number one exporter of potassium.</p>
                    </pre>
                </td>
            </tr>
        </table>


        <p>should work on <code>pre</code> with many elements nested:</p>
        <table>
            <tr>
                <th>Before</th>
                <th>After</th>
            </tr>
            <tr>
                <td>
                    <pre class="sanitize">
                        <p>
                            <strong>Foo!</strong>
                        </p>
                    </pre>
                </td>
                <td>
                    <pre class="pretty">
                        <p>
                            <strong>Foo!</strong>
                        </p>
                    </pre>
                </td>
            </tr>
        </table>

        <p>should work on <code>pre > code</code> chains:</p>

        <table>
            <tr>
                <th>Before</th>
                <th>After</th>
            </tr>
            <tr>
                <td>
                    <pre>
                        <code class="sanitize">
                            <p>
                                <strong>Foo!</strong>
                            </p>
                        </code>
                    </pre>
                </td>
                <td>
                    <pre>
                        <code class="pretty">
                            <p>
                                <strong>Foo!</strong>
                            </p>
                        </code>
                    </pre>
                </td>
            </tr>
        </table>

        <p>should work on irregular formatting (Markdown via Redcarpet):</p>
        <table>
            <tr>
                <th>Before</th>
                <th>After</th>
            </tr>
            <tr>
                <td>
                    <pre><code class="sanitize"># ...
                    gem &#39;my-gem&#39;, source: &#39;https://so-many-gems.com&#39;
                    # ...
                    </code></pre>
                </td>
                <td>
                    <pre><code class="pretty"># ...
                    gem &#39;my-gem&#39;, source: &#39;https://so-many-gems.com&#39;
                    # ...
                    </code></pre>
                </td>
            </tr>
            <tr>
                <td>
                    <pre><code class="sanitize"><div class="component">
                        <strong class="component__element">Bar!</strong>
                    </div></code></pre>
                </td>
                <td>
                    <pre><code class="pretty"><div class="component">
                        <strong class="component__element">Bar!</strong>
                    </div></code></pre>
                </td>
            </tr>
        </table>

        <p>should trim oneliners:</p>
        <table>
            <tr>
                <th>Before</th>
                <th>After</th>
            </tr>
            <tr>
                <td>
                    <pre><code class="sanitize">GENERATE_API_DOCS=true bin/rails workarea:test
                    </code></pre>
                </td>
                <td>
                    <pre><code class="pretty">GENERATE_API_DOCS=true bin/rails workarea:test
                    </code></pre>
                </td>
            </tr>
        </table>

        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script src="src/jquery.prettypre.js"></script>
        <script>
            $('.pretty').prettyPre();
            $('.sanitize').each(function (index, element) {
                element.innerHTML = element.innerHTML.replace(/[<>]/g, function (c) {
                    return { '<': '&lt;', '>': '&gt;' }[c];
                });
            });
        </script>
    </body>
</html>
